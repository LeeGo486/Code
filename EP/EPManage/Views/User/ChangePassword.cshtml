@model UserChangePasswordModel
@{
    ViewBag.Title = "修改密码";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

@section Css
{
    <link href="@Styles.Url("~/Content/changepassword.css")" rel="stylesheet"/>
}
@section head{}

<div class="container dvChangePassword">
    @if (ViewBag.Errors != null && ViewBag.Errors.Count > 0)
    {
        <div class="alert">
            @if (ViewBag.Errors.Count > 1)
            {
                (@ViewBag.Errors as List<Message>).ForEach(t =>
                    {
                        @Html.Raw(String.Format("<li>{0}</li>", t.Content));
                    });
            }
            else
            {
                @Html.Raw(ViewBag.Errors[0].Content);
            }
        </div>
    }
    @if (ViewBag.Infos != null && ViewBag.Infos.Count > 0)
    {
        <div class="alert alert-success">
            @if (ViewBag.Infos.Count > 1)
            {
                (@ViewBag.Infos as List<Message>).ForEach(t =>
                    {
                        @Html.Raw(String.Format("<li>{0}</li>", t.Content));
                    });
            }
            else
            {
                @Html.Raw(ViewBag.Infos[0].Content);
            }
        </div>
    }
    <form class="form-horizontal" method="post">
        <div class="control-group">
            <label class="control-label" for="inputEmail">@Html.LabelFor(m => m.OldPassword)</label>
            <div class="controls">
                @Html.PasswordFor(m => m.OldPassword)
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="inputPassword">@Html.LabelFor(m => m.NewPassword)</label>
            <div class="controls">
                @Html.PasswordFor(m => m.NewPassword)
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="inputPassword">@Html.LabelFor(m => m.RetypeNewPassword)</label>
            <div class="controls">
                @Html.PasswordFor(m => m.RetypeNewPassword)
            </div>
        </div>
        <div class="control-group">
            <div class="controls">
                <button type="submit" class="btn">确认修改</button>
            </div>
        </div>
    </form>
</div>
